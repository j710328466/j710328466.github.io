(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[22],{"9kvl":function(e,n,t){"use strict";var a=t("FfOG");t.d(n,"a",(function(){return a["b"]}));t("bCY9")},faUM:function(e,n,t){"use strict";t.r(n);var a=t("xwgP"),r=t.n(a),l=t("OS9G"),s=t("oSqR"),c=t("W+6v"),o=t("Rsk4"),i=r.a.memo(o["default"]["structure-demo"].component),u=r.a.memo(o["default"]["structure-demo-1"].component),d=r.a.memo(o["default"]["structure-demo-2"].component);n["default"]=e=>(r.a.useEffect((()=>{var n;null!==e&&void 0!==e&&null!==(n=e.location)&&void 0!==n&&n.hash&&l["AnchorLink"].scrollToAnchor(decodeURIComponent(e.location.hash.slice(1)))}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"markdown"},r.a.createElement("h2",{id:"\u7ed3\u6784\u578b"},r.a.createElement(l["AnchorLink"],{to:"#\u7ed3\u6784\u578b","aria-hidden":"true",tabIndex:-1},r.a.createElement("span",{className:"icon icon-link"})),"\u7ed3\u6784\u578b"),r.a.createElement("p",null,"\u7ed3\u6784\u578b\u6a21\u5f0f\u5c01\u88c5\u7684\u662f\u5bf9\u8c61\u4e4b\u95f4\u7ec4\u5408\u65b9\u5f0f\u7684\u53d8\u5316\uff0c\u76ee\u7684\u5728\u4e8e\u7075\u6d3b\u5730\u8868\u8fbe\u5bf9\u8c61\u95f4\u7684\u914d\u5408\u4e0e\u4f9d\u8d56\u5173\u7cfb\uff1b"),r.a.createElement("h3",{id:"\u9002\u914d\u5668\u6a21\u5f0f"},r.a.createElement(l["AnchorLink"],{to:"#\u9002\u914d\u5668\u6a21\u5f0f","aria-hidden":"true",tabIndex:-1},r.a.createElement("span",{className:"icon icon-link"})),"\u9002\u914d\u5668\u6a21\u5f0f"),r.a.createElement("p",null,"\u5c06\u4e00\u4e2a\u7c7b\u7684\u63a5\u53e3\u8f6c\u5316\u4e3a\u53e6\u5916\u4e00\u4e2a\u63a5\u53e3\uff0c\u4ee5\u6ee1\u8db3\u7528\u6237\u9700\u6c42\uff0c\u4f7f\u7c7b\u4e4b\u95f4\u63a5\u53e3\u4e0d\u517c\u5bb9\u95ee\u9898\u901a\u8fc7\u9002\u914d\u5668\u5f97\u4ee5\u89e3\u51b3\u3002"),r.a.createElement("p",null,"\u6848\u4f8b\uff1a\u65b0\u6765\u7684\u5927\u536b\u5c01\u88c5\u4e86\u4e2a ",r.a.createElement("strong",null,"fetch")," \u8bf7\u6c42\u5e93\uff0c\u4f46\u662f\u516c\u53f8\u4ee5\u524d\u7684\u7f51\u7edc\u8bf7\u6c42\u65b9\u6cd5\u662f\u57fa\u4e8e ",r.a.createElement("strong",null,"XMLHttpRequest")," \u7684\uff0c\u8001\u677f\u60f3\u5927\u536b\u53bb\u6539\u8fd9\u5df2\u7ecf\u5199\u597d\u76849999\u4e2a\u63a5\u53e3\u7684\u8bf7\u6c42\uff0c\u5927\u536b\u4f7f\u7528\u4e86\u9002\u914d\u5668\u6a21\u5f0f\u53bb\u517c\u5bb9\uff0c\u5982\u4e0b\uff1a"),r.a.createElement(c["a"],{code:"// RequestUtil \u8bf7\u6c42\u5e93\nexport default class RequestUtil {\n  // get \u65b9\u6cd5\n  static get(url) {\n    return new Promise((resolve, reject) => {\n      fetch(url)\n        .then(response => response.json())\n        .then(result => {\n          resolve(result)\n        })\n        .catch(err => reject(err))\n    })\n  }\n\n  // post \u65b9\u6cd5\n  static post(url, data) {\n    return new Promise((resolve, reject) => {\n      fetch(url, {\n        method: 'POST',\n        headers: {\n          'Accept': 'application/json'\n        },\n        body: data\n      })\n        .then(response => response.json())\n        .then(result => resolve(result))\n        .catch(err => reject(err))\n    })\n  }\n}\n\n// \u8c03\u7528\nconst postResp = await RequestUtils.post('https://nicecoders.github.io', data)\n\n// \u516c\u53f8\u8001\u7684\u5e93\nfunction Ajax(type, url, data, success, failed){\n    // \u521b\u5efaajax\u5bf9\u8c61\n    var xhr = null;\n    if(window.XMLHttpRequest){\n        xhr = new XMLHttpRequest();\n    } else {\n        xhr = new ActiveXObject('Microsoft.XMLHTTP')\n    }\n \n   ...(\u6b64\u5904\u7701\u7565\u4e00\u7cfb\u5217\u7684\u4e1a\u52a1\u903b\u8f91\u7ec6\u8282)\n   \n   var type = type.toUpperCase();\n    \n    // \u8bc6\u522b\u8bf7\u6c42\u7c7b\u578b\n    if(type == 'GET'){\n        if(data){\n          xhr.open('GET', url + '?' + data, true); //\u5982\u679c\u6709\u6570\u636e\u5c31\u62fc\u63a5\n        } \n        // \u53d1\u9001get\u8bf7\u6c42\n        xhr.send();\n \n    } else if(type == 'POST'){\n        xhr.open('POST', url, true);\n        // \u5982\u679c\u9700\u8981\u50cf html \u8868\u5355\u90a3\u6837 POST \u6570\u636e\uff0c\u4f7f\u7528 setRequestHeader() \u6765\u6dfb\u52a0 http \u5934\u3002\n        xhr.setRequestHeader(\"Content-type\", \"application/x-www-form-urlencoded\");\n        // \u53d1\u9001post\u8bf7\u6c42\n        xhr.send(data);\n    }\n \n    // \u5904\u7406\u8fd4\u56de\u6570\u636e\n    xhr.onreadystatechange = function(){\n        if(xhr.readyState == 4){\n            if(xhr.status == 200){\n                success(xhr.responseText);\n            } else {\n                if(failed){\n                    failed(xhr.status);\n                }\n            }\n        }\n    }\n}\n\n// \u521b\u5efa\u9002\u914d\u5668\u51fd\u6570\uff0c\u5165\u53c2\u4e0e\u65e7\u63a5\u53e3\u4fdd\u6301\u4e00\u81f4\nasync function AjaxAdapter(type, url, data, success, failed) {\n    const type = type.toUpperCase()\n    let result\n    try {\n         // \u5b9e\u9645\u7684\u8bf7\u6c42\u5168\u90e8\u7531\u65b0\u63a5\u53e3\u53d1\u8d77\n         if(type === 'GET') {\n            result = await HttpUtils.get(url) || {}\n        } else if(type === 'POST') {\n            result = await HttpUtils.post(url, data) || {}\n        }\n        // \u5047\u8bbe\u8bf7\u6c42\u6210\u529f\u5bf9\u5e94\u7684\u72b6\u6001\u7801\u662f1\n        result.statusCode === 1 && success ? success(result) : failed(result.statusCode)\n    } catch(error) {\n        // \u6355\u6349\u7f51\u7edc\u9519\u8bef\n        if(failed){\n            failed(error.statusCode);\n        }\n    }\n}\n\n// \u517c\u5bb9\u4e86\u8001\u7684\u8c03\u7528\u65b9\u5f0f\nAjax('get', 'https://nicecoders.github.io', data, function(res){\n    // \u6210\u529f\u7684\u56de\u8c03\u903b\u8f91\n}, function(error){\n    // \u5931\u8d25\u7684\u56de\u8c03\u903b\u8f91\n})",lang:"js"}),r.a.createElement("h3",{id:"\u88c5\u9970\u5668\u6a21\u5f0f"},r.a.createElement(l["AnchorLink"],{to:"#\u88c5\u9970\u5668\u6a21\u5f0f","aria-hidden":"true",tabIndex:-1},r.a.createElement("span",{className:"icon icon-link"})),"\u88c5\u9970\u5668\u6a21\u5f0f"),r.a.createElement("ul",null,r.a.createElement("li",null,"\u52a8\u6001\u5730\u7ed9\u67d0\u4e2a\u5bf9\u8c61\u6dfb\u52a0\u4e00\u4e9b\u989d\u5916\u7684\u804c\u8d23\uff0c\uff0c\u662f\u4e00\u79cd\u5b9e\u73b0\u7ee7\u627f\u7684\u66ff\u4ee3\u65b9\u6848"),r.a.createElement("li",null,"\u5728\u4e0d\u6539\u53d8\u539f\u5bf9\u8c61\u7684\u57fa\u7840\u4e0a\uff0c\u901a\u8fc7\u5bf9\u5176\u8fdb\u884c\u5305\u88c5\u6269\u5c55\uff0c\u4f7f\u539f\u6709\u5bf9\u8c61\u53ef\u4ee5\u6ee1\u8db3\u7528\u6237\u7684\u66f4\u590d\u6742\u9700\u6c42\uff0c\u800c\u4e0d\u4f1a\u5f71\u54cd\u4ece\u8fd9\u4e2a\u7c7b\u4e2d\u6d3e\u751f\u7684\u5176\u4ed6\u5bf9\u8c61"),r.a.createElement("li",null,"\u9075\u5faa\u62d3\u5c55\u4e0d\u4fee\u6539\u7684 SOLID \u539f\u5219")),r.a.createElement("h4",{id:"\u7b80\u5355\u7248"},r.a.createElement(l["AnchorLink"],{to:"#\u7b80\u5355\u7248","aria-hidden":"true",tabIndex:-1},r.a.createElement("span",{className:"icon icon-link"})),"\u7b80\u5355\u7248")),r.a.createElement(s["default"],o["default"]["structure-demo"].previewerProps,r.a.createElement(i,null)),r.a.createElement("div",{className:"markdown"},r.a.createElement("h4",{id:"\u8fdb\u9636\u7248"},r.a.createElement(l["AnchorLink"],{to:"#\u8fdb\u9636\u7248","aria-hidden":"true",tabIndex:-1},r.a.createElement("span",{className:"icon icon-link"})),"\u8fdb\u9636\u7248")),r.a.createElement(s["default"],o["default"]["structure-demo-1"].previewerProps,r.a.createElement(u,null)),r.a.createElement("div",{className:"markdown"},r.a.createElement("h3",{id:"\u4ee3\u7406\u6a21\u5f0f"},r.a.createElement(l["AnchorLink"],{to:"#\u4ee3\u7406\u6a21\u5f0f","aria-hidden":"true",tabIndex:-1},r.a.createElement("span",{className:"icon icon-link"})),"\u4ee3\u7406\u6a21\u5f0f"),r.a.createElement("p",null,"\u662f\u4e3a\u4e00\u4e2a\u5bf9\u8c61\u63d0\u4f9b\u4e00\u4e2a\u4ee3\u7528\u54c1\u6216\u5360\u4f4d\u7b26\uff0c\u4ee5\u4fbf\u63a7\u5236\u5bf9\u5b83\u7684\u8bbf\u95ee"),r.a.createElement("h4",{id:"\u7b80\u5355\u7248-1"},r.a.createElement(l["AnchorLink"],{to:"#\u7b80\u5355\u7248-1","aria-hidden":"true",tabIndex:-1},r.a.createElement("span",{className:"icon icon-link"})),"\u7b80\u5355\u7248")),r.a.createElement(s["default"],o["default"]["structure-demo-2"].previewerProps,r.a.createElement(d,null)))))}}]);