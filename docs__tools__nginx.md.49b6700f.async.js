(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[51],{jXDq:function(e,n,a){"use strict";a.r(n);var t=a("xwgP"),c=a.n(t),l=a("OS9G"),r=a("W+6v");a("Rsk4");n["default"]=e=>(c.a.useEffect((()=>{var n;null!==e&&void 0!==e&&null!==(n=e.location)&&void 0!==n&&n.hash&&l["AnchorLink"].scrollToAnchor(decodeURIComponent(e.location.hash.slice(1)))}),[]),c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"markdown"},c.a.createElement("h1",{id:"-nginx"},c.a.createElement(l["AnchorLink"],{to:"#-nginx","aria-hidden":"true",tabIndex:-1},c.a.createElement("span",{className:"icon icon-link"})),"\ud83d\udc8a nginx"),c.a.createElement("h2",{id:"\u5b89\u88c5"},c.a.createElement(l["AnchorLink"],{to:"#\u5b89\u88c5","aria-hidden":"true",tabIndex:-1},c.a.createElement("span",{className:"icon icon-link"})),"\u5b89\u88c5"),c.a.createElement("h3",{id:"\u73af\u5883\u786e\u8ba4"},c.a.createElement(l["AnchorLink"],{to:"#\u73af\u5883\u786e\u8ba4","aria-hidden":"true",tabIndex:-1},c.a.createElement("span",{className:"icon icon-link"})),"\u73af\u5883\u786e\u8ba4"),c.a.createElement("h4",{id:"\u786e\u8ba4\u7f51\u7edc"},c.a.createElement(l["AnchorLink"],{to:"#\u786e\u8ba4\u7f51\u7edc","aria-hidden":"true",tabIndex:-1},c.a.createElement("span",{className:"icon icon-link"})),"\u786e\u8ba4\u7f51\u7edc"),c.a.createElement(r["a"],{code:"- ping [www.baidu.com](http://www.baidu.com)",lang:"unknown"}),c.a.createElement("h4",{id:"\u786e\u8ba4-yum-\u6e90\u662f\u5426\u53ef\u7528"},c.a.createElement(l["AnchorLink"],{to:"#\u786e\u8ba4-yum-\u6e90\u662f\u5426\u53ef\u7528","aria-hidden":"true",tabIndex:-1},c.a.createElement("span",{className:"icon icon-link"})),"\u786e\u8ba4 yum \u6e90\u662f\u5426\u53ef\u7528"),c.a.createElement(r["a"],{code:"- yun list|grep gcc",lang:"unknown"}),c.a.createElement("h4",{id:"\u5173\u95ed-iptables-\u89c4\u5219"},c.a.createElement(l["AnchorLink"],{to:"#\u5173\u95ed-iptables-\u89c4\u5219","aria-hidden":"true",tabIndex:-1},c.a.createElement("span",{className:"icon icon-link"})),"\u5173\u95ed iptables \u89c4\u5219"),c.a.createElement(r["a"],{code:"- iptables -L \u67e5\u770b\n- iptables -F \u5173\u95ed\n- iptables -t nat -L",lang:"unknown"}),c.a.createElement("h4",{id:"\u5173\u95ed-getenforce"},c.a.createElement(l["AnchorLink"],{to:"#\u5173\u95ed-getenforce","aria-hidden":"true",tabIndex:-1},c.a.createElement("span",{className:"icon icon-link"})),"\u5173\u95ed getenforce"),c.a.createElement(r["a"],{code:"- setenforce 0",lang:"unknown"}),c.a.createElement("h3",{id:"\u65b0\u5efa\u6587\u4ef6\u76ee\u5f55"},c.a.createElement(l["AnchorLink"],{to:"#\u65b0\u5efa\u6587\u4ef6\u76ee\u5f55","aria-hidden":"true",tabIndex:-1},c.a.createElement("span",{className:"icon icon-link"})),"\u65b0\u5efa\u6587\u4ef6\u76ee\u5f55"),c.a.createElement(r["a"],{code:"- backup \u5907\u4efd\n- app \u6e90\u6587\u4ef6\n- logs \u65e5\u5fd7\n- work \u811a\u672c\n- download \u4e0b\u8f7d\u8d44\u6e90",lang:"unknown"}),c.a.createElement("h3",{id:"\u5b89\u88c5\u7f16\u8bd1\u5de5\u5177\u548c\u5e93"},c.a.createElement(l["AnchorLink"],{to:"#\u5b89\u88c5\u7f16\u8bd1\u5de5\u5177\u548c\u5e93","aria-hidden":"true",tabIndex:-1},c.a.createElement("span",{className:"icon icon-link"})),"\u5b89\u88c5\u7f16\u8bd1\u5de5\u5177\u548c\u5e93"),c.a.createElement(r["a"],{code:"// 1\nwget [http://downloads.sourceforge.net/project/pcre/pcre/8.35/pcre-8.35.tar.gz](http://downloads.sourceforge.net/project/pcre/pcre/8.35/pcre-8.35.tar.gz)\n\n// 2\nyum -y install make zlib zlib-devel gcc-c++ libtool \xa0openssl openssl-devel",lang:"js"}),c.a.createElement("p",null,"\u200b"),c.a.createElement("h3",{id:"centos-\u5feb\u901f\u5b89\u88c5"},c.a.createElement(l["AnchorLink"],{to:"#centos-\u5feb\u901f\u5b89\u88c5","aria-hidden":"true",tabIndex:-1},c.a.createElement("span",{className:"icon icon-link"})),"centos \u5feb\u901f\u5b89\u88c5"),c.a.createElement(r["a"],{code:"- yum install nginx -y",lang:"unknown"}),c.a.createElement("h2",{id:"\u5e38\u7528\u547d\u4ee4"},c.a.createElement(l["AnchorLink"],{to:"#\u5e38\u7528\u547d\u4ee4","aria-hidden":"true",tabIndex:-1},c.a.createElement("span",{className:"icon icon-link"})),"\u5e38\u7528\u547d\u4ee4"),c.a.createElement("h3",{id:"\u67e5\u770b-nginx-\u914d\u7f6e\u6587\u4ef6\u8def\u5f84\u548c\u5b89\u88c5\u8def\u5f84"},c.a.createElement(l["AnchorLink"],{to:"#\u67e5\u770b-nginx-\u914d\u7f6e\u6587\u4ef6\u8def\u5f84\u548c\u5b89\u88c5\u8def\u5f84","aria-hidden":"true",tabIndex:-1},c.a.createElement("span",{className:"icon icon-link"})),"\u67e5\u770b nginx \u914d\u7f6e\u6587\u4ef6\u8def\u5f84\u548c\u5b89\u88c5\u8def\u5f84"),c.a.createElement("blockquote",null,c.a.createElement("p",null,"nginx -t")),c.a.createElement("h3",{id:"\u91cd\u542f"},c.a.createElement(l["AnchorLink"],{to:"#\u91cd\u542f","aria-hidden":"true",tabIndex:-1},c.a.createElement("span",{className:"icon icon-link"})),"\u91cd\u542f"),c.a.createElement("blockquote",null,c.a.createElement("p",null,"nginx -s reload")),c.a.createElement("h3",{id:"\u6740\u6389"},c.a.createElement(l["AnchorLink"],{to:"#\u6740\u6389","aria-hidden":"true",tabIndex:-1},c.a.createElement("span",{className:"icon icon-link"})),"\u6740\u6389"),c.a.createElement("blockquote",null,c.a.createElement("p",null,"killall -9 nginx\u200b")),c.a.createElement("h3",{id:"\u521d\u59cb\u76ee\u5f55"},c.a.createElement(l["AnchorLink"],{to:"#\u521d\u59cb\u76ee\u5f55","aria-hidden":"true",tabIndex:-1},c.a.createElement("span",{className:"icon icon-link"})),"\u521d\u59cb\u76ee\u5f55"),c.a.createElement("blockquote",null,c.a.createElement("p",null,"/usr/share/nginx/html")),c.a.createElement("h3",{id:"\u914d\u7f6e\u6587\u4ef6"},c.a.createElement(l["AnchorLink"],{to:"#\u914d\u7f6e\u6587\u4ef6","aria-hidden":"true",tabIndex:-1},c.a.createElement("span",{className:"icon icon-link"})),"\u914d\u7f6e\u6587\u4ef6"),c.a.createElement(r["a"],{code:"// /etc/nginx/nginx.conf\nuser nginx;\nworker_processes auto;\nerror_log /var/log/nginx/error.log;\npid /run/nginx.pid;\n\ninclude /usr/share/nginx/modules/*.conf;\n\nevents {\n    worker_connections 1024;\n}\n\nhttp {\n    log_format  main  '$remote_addr - $remote_user [$time_local] \"$request\" '\n                      '$status $body_bytes_sent \"$http_referer\" '\n                      '\"$http_user_agent\" \"$http_x_forwarded_for\"';\n\n    access_log  /var/log/nginx/access.log  main;\n\n    sendfile            on;\n    tcp_nopush          on;\n    tcp_nodelay         on;\n    keepalive_timeout   65;\n    types_hash_max_size 2048;\n\n    include             /etc/nginx/mime.types;\n    default_type        application/octet-stream;\n\n    include /etc/nginx/conf.d/*.conf;\n\n    upstream nodetest {\n        server 127.0.0.1:3000;\n    }\n\n    upstream mongo_backend {\n        server 127.0.0.1:27017;\n    }\n\n    server {\n        listen       80;\n        server_name  nicecoders.github.io github.io;\n        root         /usr/share/nginx/html;\n\n        include /etc/nginx/default.d/*.conf;\n\n        location / {\n        }\n\n        error_page 404 /404.html;\n            location = /40x.html {\n        }\n\n        error_page 500 502 503 504 /50x.html;\n            location = /50x.html {\n        }\n    }\n\n    server {\n       listen       80;\n       server_name  j710328466.github.io;\n\n       location / {\n           # add_header Access-Control-Allow-Origin *;\n           # add_header Access-Control-Allow-Methods 'GET, POST, OPTIONS';\n           # add_header Access-Control-Allow-Headers *;\n           # \u53cd\u5411\u4ee3\u7406\u5230 3000 \u7aef\u53e3\n           #proxy_pass http://nodetest;\n           proxy_pass http://0.0.0.0:3000;\n           root   html;\n           index  index.html index.htm;\n       }\n\n       error_page   500 502 503 504  /50x.html;\n       location = /50x.html {\n           root   html;\n       }\n    }\n\n   server {\n        listen       80;\n        server_name  nicecoders.github.io;\n\n        include /etc/nginx/default.d/*.conf;\n\n        location / {\n                # \u53cd\u5411\u4ee3\u7406\u5230 3100 \u7aef\u53e3\n                proxy_pass http://0.0.0.0:3688;\n        }\n\n        error_page 404 /404.html;\n            location = /40x.html {\n        }\n\n        error_page 500 502 503 504 /50x.html;\n            location = /50x.html {\n                root   html;\n        }\n    }\n\n}",lang:"unknown"}),c.a.createElement("h2",{id:"qa"},c.a.createElement(l["AnchorLink"],{to:"#qa","aria-hidden":"true",tabIndex:-1},c.a.createElement("span",{className:"icon icon-link"})),"Q&A"),c.a.createElement("h3",{id:"1-forbedden-403"},c.a.createElement(l["AnchorLink"],{to:"#1-forbedden-403","aria-hidden":"true",tabIndex:-1},c.a.createElement("span",{className:"icon icon-link"})),"1. forbedden 403"),c.a.createElement("blockquote",null,c.a.createElement("p",null,"chmod\xa0-R\xa0777\xa0/data chmod\xa0-R\xa0777\xa0/data/www")),c.a.createElement(r["a"],{code:"\u8fd8\u4e0d\u884c\u7684\u8bdd\u5c1d\u8bd5\u5173\u95ed selinux\uff1a\nvi /etc/selinux/config\n\n #SELINUX=enforcing\n SELINUX=disabled",lang:"javascript"}))))}}]);